cmake_minimum_required(VERSION 3.0.0)
project(LeetCode VERSION 0.1.0)

macro(SUBDIRLIST result curdir)
    file(GLOB children RELATIVE ${curdir} ${curdir}/*)
    set(dirlist "")
    foreach(child ${children})
        if(IS_DIRECTORY ${curdir}/${child})
            LIST(APPEND dirlist ${child})
        endif()
    endforeach()
    set(${result} ${curdir}/${dirlist})
endmacro()

macro(GETFILELIST result curdir)
    file(GLOB children RELATIVE ${curdir} ${curdir}/*)
    set(dirlist "")
    foreach(child ${children})
        MESSAGE(STATUS ${child})
        if(NOT (IS_DIRECTORY ${curdir}/${child}))
            LIST(APPEND dirlist ${child})
        endif()
    endforeach()
    set(${result} ${dirlist})
endmacro()

SUBDIRLIST(subdirs ${CMAKE_CURRENT_SOURCE_DIR})

FOREACH(subdir ${subdirs})
    GETFILELIST(files ${subdir})
    Message(STATUS ${files})
    foreach(file ${subdir})
        if((NOT (${file} MATCHES .Catch2))
            AND (NOT (${file} MATCHES .vscode))
            AND (NOT (${file} MATCHES .git)) )
            list(APPEND file_list ${file})
        endif()
    endforeach()
    # message(STATUS ${file_list})
ENDFOREACH()

message(STATUS ${subdirs})
